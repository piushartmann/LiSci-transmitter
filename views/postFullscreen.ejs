<!DOCTYPE html>
<html lang="de">

<head>
  <%- include("./partials/baseHead.ejs") %>
  <title id="title"><%= postID %></title>
  <script src="/js/partials/postRenderer.js"></script>
  <script src="/js/partials/commentRenderer.js"></script>
  <link rel="stylesheet" href="/css/sections.css">
</head>

<body>
  <%- include("./partials/header.ejs") %>

  <div id="postBox" class="postBox" style="margin-top: 2%;"></div>
</body>

</html>

<script>
  const loggedIn = <%= typeof username !== 'undefined' ? true : false %>;
  document.addEventListener('DOMContentLoaded', async () => {
    const req = await fetch(`/internal/getPost/<%= postID %>`);
    const post = req.json();
    document.getElementById('title').innerText = (await post).title;
    console.log(await post);
    buildPost(await post);
  });
</script>