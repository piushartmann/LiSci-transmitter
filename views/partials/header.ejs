<header>
  <div class="header-logo">
    <a href="/">
      LiSciTransmitter
    </a>
  </div>


  <nav class="header-nav">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/archive">Archiv</a></li>
      <% if (usertype.includes("classmate")) { %>
      <li><a href="/citations">Zitate</a></li>
      <% } %>
    </ul>


  </nav>

  <div class="header-button">
    <% if (usertype.includes("admin") || usertype.includes("writer")) { %>
    <button class="create-post-button" onclick="window.location.href='/create'">Neuer Post</button>
    <% } %>

    <% if (loggedIn) { %>
    <% if (profilePic.type == "default") { %>
    <p class="defaultProfilePicture" style="background-color: <%= profilePic.content%>; cursor: pointer;" onclick="toggleMenu()">
      <%= username.charAt(0).toUpperCase() %>
    </p>
    <% } %>
    <% } else { %>
    <button onclick="showLoginPopup()">Login</button>
    <% } %>
  </div>


</header>

<div class="login-popup" id="loginPopup">
  <div class="login-popup-content">
    <p id="login-popup-title">Login</p>
    <form method="post" action="internal/login">
      <input type="text" name="username" placeholder="Username">
      <input type="password" name="password" placeholder="Password">

      <div class="submit-button-container">
        <button type="button" class="cancel-button" onclick="hideLoginPopup()">Cancel</button>
        <input type="submit" class="submit-login" value="Login">
      </div>
    </form>
  </div>
</div>

<div class="userMenu" id="userMenu" style="display: none">

  <% if (typeof isSettingsPage == "undefined") { %>
  <div class="content">
    <button onclick="window.location.href='/settings'" class="button">
      <img class="icon" src="icons/settings.svg"></img>
      <label class="button-label">Settings</label>
    </button>
  </div>
  <% } %>

  <div class="content">
    <button onclick="logout()" class="button">
      <img class="icon" src="icons/logout.svg"></img>
      <label class="button-label">Logout</label>
    </button>
  </div>
  
</div>